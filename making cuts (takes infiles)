#will put this all under the if muongun section


def harvest_generators(infiles):
    generator = None
    for fname in infiles:
        f = dataio.I3File(fname)
        fr = f.pop_frame(icetray.I3Frame.Stream('S'))
        f.close()
        if fr is not None:
            for k in fr.keys():
                if("I3TriggerHierarchy" in k): continue #hack due to I3TriggerHierchy bug
                v = fr[k]
                if isinstance(v, MuonGun.GenerationProbability):
                    print ("found MG GP")
                    if generator is None:
                        generator = v
                    else:
                        generator += v
    return generator
